# Windowsin asennus virtuaalikoneelle

Windows 11 levykuvan saamme ladattua suoraan Microsoftilta, https://www.microsoft.com/software-download/windows11

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/2cdecf16-9b60-4354-a640-55e43ee0a88d)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/7c2753bc-7f9c-4471-9c8c-aa91f57a0afe)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/cdc9b55f-65b4-40c3-8754-a989aafbf4df)

Jostain syystä jo lataus on tehty kankeaksi. Klikkaamalla "Download Now" lataus ei ala, vaan seuraava steppi tulee pienen lataustauon jälkeen ja sama homma kielen vahvistamisen jälkeen. Levykuvan koko on 6,2Gt ja versio on luonnollisesti tuorein 23H2
Latauksen jälkeen klikkaamme VirtualBoxissa "New" ja luomme uuden virtuaalikoneen.
- Nimeämme koneen (Win11)
- Kerromme VirtualBoxille kansion, johon tämän "koneen" tiedostot tallentuvat
- Valitsemme juuri ladatun levykuvan
- Skippaamme valvomattoman asennuksen
- Annamme resurssit koneelle, 4Gt RAM, 4 suoritinydintä ja 50Gt tallennustilaa
- Finish


![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/fc866fd5-16d0-4d7a-a798-d98c326f99c6)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/1d72524f-a2af-4db0-8745-fe935cd128a5)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/25f40258-e5ce-4439-b174-92453198eeb5)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/c8db75dc-e08c-4de2-9416-955bde72ee11)

Tuplaklikkaamalla Win11-konetta VirtualBoxissa saamme sen käyntiin ja voimme aloittaa käyttöjärjestelmäasennuksen.
Paitsi että, ensimmäistä kertaa VirtualBox antaa virheilmoituksen puuttuvasta käynnistysvalinnasta tai -laitteesta. Kokeillaanpa valita levykuva uudelleen ja klikataan "Mount and Retry Boot"

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/b530f58f-7c40-4eba-86b6-7391803fdd70)

Pelkkä levykuvan uudelleen valitseminen ei auttanut. Mutta VirtualBox ei tosiaan osaa suoraan käynnistää asennusmediaa, mikäli käyttöjärjestelmää ei ole asennettuna. Tämä voi toki olla myös ominaisuus, joka johtuu siitä että käytetään "optista mediaa". VirtualBoxhan näkee asennusmedian "asennuslevynä". Windows-asennuksia kun joskus kauan sitten olen tehnyt levyllä, niin tuo "press any key to boot from CD or DVD" on ollut vakiojuttu.
Näppäimistön hakkaaminen kyseisen kehotuksen aikana siis päästi meidät aloittamaan asennuksen. Kieli saa jäädä englanniksi, mutta käytön helpottamiseksi muutamme aikavyöhykkeen ja näppäimistöasettelun suomalaiseksi.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/d4075951-bf0e-4178-a944-b77a26f654cb)

Nextillä seuraavaan, tässä vaiheessa on myös mahdollisuus koittaa "korjata" asennus mikäli tätä tekee koneella jossa käyttöjärjestelmä on solmussa. Omalla kokemuksella tällä ei kuitenkaan tuhlaa kuin aikaansa. Install now'lla eteenpäin.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/86aabef7-b9c5-41a0-99fd-8ea7103af5e7)

Aktivoinnin ohitamme klikkaamalla "I don't have a product key". Käyttöjärjestelmä toimii hyvinkin paljolti, mutta muistaakseni ulkoasua ei voi muokata ja näytön oikeaan alareunaan tulee "vesileima". Katsotaan miltä näyttää kunhan päästään työpöydälle asti.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/5a466110-4cb8-40a7-8644-ae2669cfe612)

Seuraavaksi valitaan versio. Tässä tilanteessa sillä ei liene merkitystä, mutta asennamme kuitenkin Pro:n.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/dfd54ced-9bdb-43a1-8f04-d6a206ef07b2)

Hyväksymme Microsoftin ehdot.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/222d38c5-3a5c-4024-8aac-652fc2bcca10)

Päivitysasennusta emme varmaan pysty edes tekemään, koska pohjalla ei ole vanhempaa versiota. Eli Custom.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/e392833d-65e3-40d5-b878-e7714570f0d1)

Massamuistin valinta. Näköjään Microsoft haluaa vähintään 52Gt tälle Windows-versiolle. Toki tämä on hyvä idea, mutta luulin että pärjäisimme vähemmällä kun emme mitään kovin isoa tule asentamaan. Eli kone sammuksiin raksista ja annetaan sille lisää levytilaa...

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/003b4afb-a25f-45b3-8df4-3cf277952330)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/708539e6-b023-4f2f-b4d7-5fb103435aa7)

Tools -> "hampurilaisvalikosta" Media -> Win11.vdi -> alempana olevaan Size: kenttään lisää tilaa. Tuplataan tuo 50Gt niin luulisi riittävän. Ja Apply.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/9999193d-0175-4fdc-8a8f-3154b3567f2e)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/05c385e6-2aba-48ab-8532-74dbcf84df37)

Uudelleen tuplaklikki Win11 koneelle, näppäimistön hakkaamista kun kehote sille tulee ja pääsemme takaisin asennukseen.
Samat stepit kuin aiemmin ja olemme taas osioinnissa. Sen kummempaa osiointia emme ala tekemään, vaan klikkaamme "New", "Apply" ja täten käytämme koko levyn hyväksemme yhtenä osiona. Asennusohjelma toki ilmoittaa, että toimiakseen oikein käyttöjärjestelmä "saattaa" luoda muitakin osioita. Hyväksymme tämän OK:lla.
Ja kappas, sinnehän ilmaantui kaksi muutakin osiota. Oletuksena asennusohjelma kuitenkin valitsee oikean osion. Nextillä eteenpäin ja asennus alkaa, odottakaamme.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/f13f9dc4-e79e-449a-8ae8-75088157c89e)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/7f419882-982a-4ba5-86c4-ad2f7dd4323f)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/71e7e4b0-e270-4feb-954f-6c5efa2b3ab3)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/57c48b1a-0141-4e13-82ed-9da9750757c2)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/6a7a1e41-e798-472a-ad69-a417f965a42d)

Noin kahdeksan minuutin kuluttua pääsemme jatkamaan. Asennuksen aikana virtuaalikoneemme käynnistyi pariin kertaan uudelleen.
Parit asetukset käydään läpi tässä vaiheessa. Maa, näppäinasettelu (vaikka nämä valittiin jo aiemmin asennuksessa, eikä tarjottu näppäinasettelu ole edes se minkä valitsimme. Mahtavaa), emme lisää toista näppäinasettelua

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/aa5c783a-8d40-499d-acc8-3b74f901cdc0)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/49e5e190-a365-4b7e-b4d6-7fd530b05af7)

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/10e3a843-5ad0-46ea-9b0f-2eb35ad2f467)

Näiden jälkeen asennusohjelma käsittelee päivityksiä hetken aikaa. Ja luonnollisesti virtuaalikoneemme käynnistyy myös uudelleen.
Nimeämme tietokoneen, ja taas uudelleenkäynnistys....

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/d281414c-61df-4c4d-8d0b-8069b9daa12f)

Microsoft on tehnyt paikallisen tilin luomisen hankalaksi, molemmat näkyvistä vaihtoehdoista johtavat kirjautumiseen Microsoft-tilillä ja tätähän emme halua tehdä.

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/795fc35d-64e5-4745-a983-810a852b6c1e)

Shift+F10 näppäinyhdistelmällä saamme auki komentokehotteen. Annamme komennon "oobe\bypassnro", jolla saamme verkkoyhteyden vaatimuksen pois ja aikaisemmin olen saanut luotua paikallisen tilin. Toivottavasti tämä ei ole muuttunut. Komennon antamisen jälkeen virtuaalikone käynnistyy uudelleen ja käyttöönottoprosessi alkaa alusta. Tässä vaiheessahan en muistanut, että kun viimeksi olen Win11 asentanut USB-medialta niin olen jättänyt yhdistämättä laitteen verkkoon, jotta saamme valinnan paikallisen tilin luomiselle. Ja nyt mietin myös että olisi pitänyt käyttää tehtävänannossa mainittua Win10-latausta, jonka asennuksessa pystyi luomaan paikallisen tilin. Mutta olen jo näin pitkällä niin kikkaillaan...

![kuva](https://github.com/HurpaDurp/palvelintenhallinta/assets/143202749/a1ccff33-9b59-4a30-a40e-5ef27389ea7e)







































